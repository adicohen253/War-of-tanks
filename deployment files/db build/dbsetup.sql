CREATE DATABASE IF NOT EXISTS WOT_DB;
USE WOT_DB;

CREATE TABLE Accounts(
Username VARCHAR(10) PRIMARY KEY,
Password VARCHAR(10),
Wins INT,
Loses INT,
Draws INT,
Points INT,
Color VARCHAR(6),
Bandate VARCHAR(11));

CREATE TABLE Maps(
Creator VARCHAR(12),
Name VARCHAR(20),
MapId VARCHAR(35) PRIMARY KEY,
Walls TEXT,
PlayersLocations VARCHAR(20));

INSERT INTO Maps VALUES('<admin>','Map1','<admin>-Map1', '0,3 799,3\n3,0 3,592\n796,0 796,592\n0,596 799,596\n6,65 70,65\n67,69 67,128\n6,131 70,131\n67,194 67,327\n6,331 70,331\n6,398 71,398\n67,457 67,592\n71,529 202,529\n199,530 199,592\n133,6 133,134\n133,194 133,267\n133,327 133,463\n130,463 336,463\n200,392 200,459\n266,523 266,592\n333,523 333,592\n465,532 465,592\n397,529 468,529\n530,392 530,592\n397,463 527,463\n400,400 400,459\n263,398 466,398\n333,333 333,394\n197,331 336,331\n658,529 792,529\n729,530 729,592\n726,463 792,463\n596,460 596,532\n599,463 665,463\n396,331 533,331\n596,194 596,334\n600,331 665,331\n659,265 731,265\n728,269 728,401\n592,398 725,398\n263,264 335,264\n199,194 199,267\n203,197 270,197\n266,6 266,135\n200,62 200,134\n204,65 401,65\n398,6 398,63\n332,128 332,200\n336,131 401,131\n398,135 398,267\n463,195 463,267\n530,6 530,68\n728,130 728,200\n732,197 799,197\n596,6 596,69\n600,66 666,66\n729,6 729,69\n733,66 799,66\n463,6 463,134\n460,132 666,132\n530,135 530,267\n663,136 663,201', '420,50 20,200');

CREATE USER 'django'@'%' IDENTIFIED BY 'd212765go'; -- django user
GRANT ALL PRIVILEGES ON WOT_DB.* TO 'django'@'%';

CREATE USER 'wotserver'@'%' IDENTIFIED BY 'wo653286ver';  -- python server user
GRANT ALL PRIVILEGES ON WOT_DB.* TO 'wotserver'@'%';
FLUSH PRIVILEGES;